APP_NAME=EcoSurvey
APP_ENV=production
APP_KEY=base64:3oVDVxx6Hqtte2wX5Z5bIRkl5BgqtpA5mPAERnjOzO4=
APP_DEBUG=false
APP_URL="https://laravel-ecosurvey.overstimulated.dk"

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

BCRYPT_ROUNDS=12

LOG_CHANNEL=stack
LOG_STACK=daily
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=info

# ===================================
# Production Database - Supabase PostgreSQL (EU West)
# ===================================
# ✅ Free tier with unlimited compute hours!
# Connection pooler for better performance and connection management
#
# Get these values from Supabase Dashboard:
# Settings → Database → Connection string → URI
#
# Example: postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-0-eu-west-1.pooler.supabase.com:6543/postgres
#
DB_CONNECTION=pgsql
DB_HOST=aws-1-eu-west-1.pooler.supabase.com
DB_PORT=5432
DB_DATABASE=postgres
DB_USERNAME=postgres.uuorwkqmuucqwdexevma
DB_PASSWORD=6NxmVNPdjoNs0fd9
DB_SSLMODE=require

# Note: Using Transaction mode pooler (port 5432) - required for Laravel
# Session mode (port 6543) causes "prepared statement does not exist" errors

# ⚠️ IMPORTANT: Remove DB_OPTIONS when migrating from Neon to Supabase
# DB_OPTIONS is only needed for Neon, not for Supabase
# DB_OPTIONS=endpoint=ep-orange-breeze-a9xvfbuw  # <-- REMOVE THIS LINE

# Alternative: Direct connection (use if pooler has issues)
# DB_HOST=db.[YOUR-PROJECT-REF].supabase.co
# DB_PORT=5432

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=true
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=public
QUEUE_CONNECTION=database
MEDIA_DISK=public

CACHE_STORE=file
# CACHE_PREFIX=ecosurvey_prod_

MEMCACHED_HOST=127.0.0.1

REDIS_CLIENT=phpredis
REDIS_HOST=127.0.0.1
REDIS_PASSWORD=null
REDIS_PORT=6379

# ===================================
# Mail Configuration (Production)
# ===================================
# Configure with your production mail service
MAIL_MAILER=smtp
MAIL_SCHEME=tls
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=your-mailtrap-username
MAIL_PASSWORD=your-mailtrap-password
MAIL_FROM_ADDRESS=noreply@ecosurvey.app
MAIL_FROM_NAME=EcoSurvey

# ===================================
# AWS S3 (Optional - for production file storage)
# ===================================
# Uncomment if using S3 for file uploads instead of local storage
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_DEFAULT_REGION=eu-central-1
# AWS_BUCKET=your-bucket-name
# AWS_USE_PATH_STYLE_ENDPOINT=false

# ===================================
# Database Provider Notes
# ===================================
# This file is configured for Supabase PostgreSQL
#
# Supabase Free Tier:
# - 500 MB database storage
# - Unlimited compute hours (no time limits!)
# - 50,000 monthly active users
# - Auto-pause after 1 week inactivity (wakes instantly)
# - PostGIS extension support
# - Connection pooler for better performance
#
# Migration from Neon:
# 1. Create Supabase project: https://supabase.com/dashboard
# 2. Enable PostGIS extension in Supabase (Database → Extensions)
# 3. Update DB_* values above with Supabase credentials
# 4. Remove DB_OPTIONS line (Neon-specific)
# 5. Upload this file as .env to production server
# 6. Run: php artisan migrate:fresh --seed --force
# 7. Clear caches: php artisan config:cache
#
# Previous provider: Neon PostgreSQL (exceeded free tier quota)
# New provider: Supabase PostgreSQL (better free tier)


